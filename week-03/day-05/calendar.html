<html>
<head>
  <meta charset="utf-8">
  <title>My Calendar</title>
    

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
 
#calmonth { 
    margin:50px auto; 
    font: 4vw "Helvetica Neue", Helvetica, Arial; 
    display:table; 
   
}
#grid {
    width: 100%;
  
border-style: solid;
border-color: blue;
}

.rowformat{
  width:100%;
  background-color: aqua;
}
.cellformat{
  width:13%;
  height: 10%;
  text-align: center;
  border-color: navy;
  border-style: solid;
  font-size: 1.5vw
}
.cellformat:hover{
  background-color: gray;
}
.colheadformat{
  font-family: Arial;
  font-size: 2vw;
 text-align: center;
 border-style: solid;
 border-color: navy;
}
.inactive{
  border:#C0C0C0 solid;
}
.todaysdate{
  border-color: red;
  border-style: solid;
  text-align: center;
  font-size: 2vw;
}
.todaysdate:hover{
background-color: gray;
}
.hidden{
  display:none;
}
.visible{
  display:inline;
  position:absolute;
  top:10vw;
  left:20vw;
  float:left;
  border-style: solid;
  border-color: black;
  background-color: white;
  width:40vw;
  height:20vw;
}
.overallpage{
  z-index:2;
}
.textbox{
  width:30vw;
  height:10vw;
  position: relative;
  top:3vw;
  left:3vw;
  float:left;
}
#formpage{
  font-size: 1.5vw
}
.submitbutton{
  position:relative;
  top:15vw;
  left:3vw;
  width:7vw;
  color:red;
}
.cancelbutton{
  position:relative;
  top:15vw;
  left:10vw;
  width:7vw;
  color: blue;
}
.editbutton{
  position:relative;
  top:15vw;
  left:3vw;
  width:7vw;
  color: blue;
}
.closebutton{
  position:relative;
  top:15vw;
  left:10vw;
  width:7vw;
  color: green;
}.removebutton{
  position:relative;
  top:15vw;
  left:17vw;
  width:7vw;
  color: black;
}
.selecteddate{
  border-color: yellow;
  border-style: solid;
}
.form1{}
.form2{}

  </style>
  <script>
    
setTimeout(function () {

    var days = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]; 
    var month= "November"; 
    var dateselected="";  

    var divtop=document.createElement('div');
    divtop.setAttribute("class","overallpage");
    document.body.appendChild(divtop);

    var div1=document.createElement('header');
    div1.setAttribute("id","calMonth");
    div1.innerHTML="November 2015";
    divtop.appendChild(div1);

    var table1=document.createElement("table");
    table1.setAttribute("id","grid");
    divtop.appendChild(table1);

    var row1  = table1.insertRow(0);
    row1.setAttribute("class","rowformat");
    var row2  = table1.insertRow(1);
    row1.setAttribute("class","rowformat");
    var row3  = table1.insertRow(2);
    row1.setAttribute("class","rowformat");
    var row4  = table1.insertRow(3);
    row1.setAttribute("class","rowformat");
    var row5  = table1.insertRow(4);
    row1.setAttribute("class","rowformat");
    var row6  = table1.insertRow(5);
    row1.setAttribute("class","rowformat");
    var row7 = table1.insertRow(6);
    row1.setAttribute("class","rowformat");
    var row8 = table1.insertRow(7);
    row1.setAttribute("class","rowformat");
//day header cells
    var cell1 = row1.insertCell(0);
    cell1.setAttribute("class","colheadformat");
    var cell2 = row1.insertCell(1);
    cell2.setAttribute("class","colheadformat");
    var cell3 = row1.insertCell(2);
    cell3.setAttribute("class","colheadformat");
    var cell4 = row1.insertCell(3);
    cell4.setAttribute("class","colheadformat");
    var cell5 = row1.insertCell(4);
    cell5.setAttribute("class","colheadformat");
    var cell6 = row1.insertCell(5);
    cell6.setAttribute("class","colheadformat");
    var cell7 = row1.insertCell(6);
    cell7.setAttribute("class","colheadformat");
  
    cell1.innerHTML = days[0];
    cell2.innerHTML = days[1];  
    cell3.innerHTML = days[2];  
    cell4.innerHTML = days[3]; 
    cell5.innerHTML = days[4]; 
    cell6.innerHTML = days[5]; 
    cell7.innerHTML = days[6]; 
//month cells
    var cell8 = row2.insertCell(0);
    cell8.setAttribute("class","inactive");
    var cell9 = row2.insertCell(1);
    cell9.setAttribute("class","inactive");
    var cell10 = row2.insertCell(2);
    cell10.setAttribute("class","inactive");
    var cell11 = row2.insertCell(3);
    cell11.setAttribute("class","inactive");
    var cell12 = row2.insertCell(4);
    cell12.setAttribute("class","inactive");
    var cell13 = row2.insertCell(5);
    cell13.setAttribute("class","inactive");
    var cell14 = row2.insertCell(6);
    cell14.setAttribute("class","cellformat");
    cell14.setAttribute("ID","1");
    cell8.innerHTML = "";
    cell9.innerHTML = "";  
    cell10.innerHTML = "";  
    cell11.innerHTML = "";
    cell12.innerHTML = "";
    cell13.innerHTML = "";
    cell14.innerHTML = "1";

    var cell15 = row3.insertCell(0);
    cell15.setAttribute("class","cellformat");
    cell15.setAttribute("ID","2");
    var cell16 = row3.insertCell(1);
    cell16.setAttribute("class","cellformat");
    cell16.setAttribute("ID","3");
    var cell17 = row3.insertCell(2);
    cell17.setAttribute("class","cellformat");
    cell17.setAttribute("ID","4");
    var cell18 = row3.insertCell(3);
    cell18.setAttribute("class","cellformat");
    cell18.setAttribute("ID","5");
    var cell19 = row3.insertCell(4);
    cell19.setAttribute("class","cellformat");
    cell19.setAttribute("ID","6");
    var cell20 = row3.insertCell(5);
    cell20.setAttribute("class","cellformat");
    cell20.setAttribute("ID","7");
    var cell21 = row3.insertCell(6);
    cell21.setAttribute("class","cellformat");
    cell21.setAttribute("ID","8");
    cell15.innerHTML = "2";
    cell16.innerHTML = "3";  
    cell17.innerHTML = "4";  
    cell18.innerHTML = "5";
    cell19.innerHTML = "6";
    cell20.innerHTML = "7";
    cell21.innerHTML = "8";

    var cell22 = row4.insertCell(0);
    cell22.setAttribute("class","cellformat");
    cell22.setAttribute("ID","9");
    var cell23 = row4.insertCell(1);
    cell23.setAttribute("class","cellformat");
    cell23.setAttribute("ID","10");
    var cell24 = row4.insertCell(2);
    cell24.setAttribute("class","cellformat");
    cell24.setAttribute("ID","11");
    var cell25 = row4.insertCell(3);
    cell25.setAttribute("class","cellformat");
    cell25.setAttribute("ID","12");
    var cell26 = row4.insertCell(4);
    cell26.setAttribute("class","cellformat");
    cell26.setAttribute("ID","13");
    var cell27 = row4.insertCell(5);
    cell27.setAttribute("class","cellformat");
    cell27.setAttribute("ID","14");
    var cell28 = row4.insertCell(6);
    cell28.setAttribute("class","cellformat");
    cell28.setAttribute("ID","15");
    cell22.innerHTML = "9";
    cell23.innerHTML = "10";  
    cell24.innerHTML = "11";  
    cell25.innerHTML = "12";
    cell26.innerHTML = "13";
    cell27.innerHTML = "14";
    cell28.innerHTML = "15";

    var cell29 = row5.insertCell(0);
    cell29.setAttribute("class","cellformat");
    cell29.setAttribute("ID","16");
    var cell30 = row5.insertCell(1);
    cell30.setAttribute("class","cellformat");
    cell30.setAttribute("ID","17");
    var cell31 = row5.insertCell(2);
    cell31.setAttribute("class","cellformat");
    cell31.setAttribute("ID","18");
    var cell32 = row5.insertCell(3);
    cell32.setAttribute("class","cellformat");
    cell32.setAttribute("ID","19");
    var cell33 = row5.insertCell(4);
    cell33.setAttribute("class","cellformat");
    cell33.setAttribute("ID","20");
    var cell34 = row5.insertCell(5);
    cell34.setAttribute("class","cellformat");
    cell34.setAttribute("ID","21");
    var cell35 = row5.insertCell(6);
    cell35.setAttribute("class","cellformat");
    cell35.setAttribute("ID","22");
    cell29.innerHTML = "16";
    cell30.innerHTML = "17";  
    cell31.innerHTML = "18";  
    cell32.innerHTML = "19";
    cell33.innerHTML = "20";
    cell34.innerHTML = "21";
    cell35.innerHTML = "22";

    var cell36 = row6.insertCell(0);
    cell36.setAttribute("class","cellformat");
    cell36.setAttribute("ID","23");
    var cell37 = row6.insertCell(1);
    cell37.setAttribute("class","cellformat");
    cell37.setAttribute("ID","24");
    var cell38 = row6.insertCell(2);
    cell38.setAttribute("class","cellformat");
    cell38.setAttribute("ID","25");
    var cell39 = row6.insertCell(3);
    cell39.setAttribute("class","cellformat");
    cell39.setAttribute("ID","26");
    var cell40 = row6.insertCell(4);
    cell40.setAttribute("class","cellformat");
    cell40.setAttribute("ID","27");
    var cell41 = row6.insertCell(5);
    cell41.setAttribute("class","cellformat");
    cell41.setAttribute("ID","28");
    var cell42 = row6.insertCell(6);
    cell42.setAttribute("class","cellformat");
    cell42.setAttribute("ID","29");
    cell36.innerHTML = "23";
    cell37.innerHTML = "24";  
    cell38.innerHTML = "25";  
    cell39.innerHTML = "26";
    cell40.innerHTML = "27";
    cell41.innerHTML = "28";
    cell42.innerHTML = "29";

    var cell43 = row7.insertCell(0);
    cell43.setAttribute("class","cellformat");
    cell43.setAttribute("ID","30");
    var cell44 = row7.insertCell(1);
    cell44.setAttribute("class","inactive");
    cell44.setAttribute("ID","31");
    var cell45 = row7.insertCell(2);
    cell45.setAttribute("class","inactive");
    cell45.setAttribute("ID","32");
    var cell46 = row7.insertCell(3);
    cell46.setAttribute("class","inactive");
    var cell47 = row7.insertCell(4);
    cell47.setAttribute("class","inactive");
    var cell48 = row7.insertCell(5);
    cell48.setAttribute("class","inactive");
    var cell49 = row7.insertCell(6);
    cell49.setAttribute("class","inactive");
    cell43.innerHTML = "30";
    cell44.innerHTML = "";  
    cell45.innerHTML = "";  
    cell46.innerHTML = "";
    cell47.innerHTML = "";
    cell48.innerHTML = "";
    cell49.innerHTML = "";

    //var alldates=document.getElementsByClassName("cellformat");  //returns NodeList 
  
    //CREATE THE FORMS

        var formdiv=document.createElement('div');
        formdiv.setAttribute("class","hidden form1");
        formdiv.setAttribute("ID","entireDiv");
        var taskform = document.createElement('form'); 
        taskform.setAttribute("ID","formpage");
    
        var formheader=document.createTextNode("p");
        formheader.textContent=" November 2015";

        var textfield=document.createElement("input");
        textfield.setAttribute("type","textarea");
        textfield.setAttribute("form","formpage");
        textfield.setAttribute("ID","taskWords");
        textfield.setAttribute("name","textfieldname");
        textfield.setAttribute("class","textbox");
        var submitfield=document.createElement("button");
        submitfield.setAttribute("type","button");
   //     submitfield.setAttribute("class","submitbutton");
        submitfield.setAttribute("ID","submitbutton")
        var txt1=document.createTextNode("SUBMIT");
        submitfield.appendChild(txt1);
        var cancelfield=document.createElement("button");
        cancelfield.setAttribute("type","button");
   //     cancelfield.setAttribute("class","cancelbutton");
        cancelfield.setAttribute("ID","cancelbutton")
        var txt2=document.createTextNode("Cancel");
   
       cancelfield.appendChild(txt2);
        var linebr=document.createElement("br");
         taskform.appendChild(formheader);
         taskform.appendChild(linebr);
        taskform.appendChild(linebr);
        taskform.appendChild(textfield);
        taskform.appendChild(linebr);
        taskform.appendChild(linebr);
        taskform.appendChild(submitfield);
        taskform.appendChild(cancelfield);
        formdiv.appendChild(taskform);
        document.body.appendChild(formdiv);    
 
 //Second Form
        var secondformdiv=document.createElement('div');
        secondformdiv.setAttribute("class","hidden form2");
        secondformdiv.setAttribute("ID","secondFormDiv");
        var secondtaskform = document.createElement('form'); 
        secondtaskform.setAttribute("ID","secondformpage");
    
        var secondformheader=document.createTextNode("p");
        secondformheader.textContent=" November 2015 Task Data";

        var secondtextfield=document.createTextNode("p");
       // secondtextfield.setAttribute("form","secondformpage");
      //  secondtextfield.setAttribute("ID","secondtaskWords");
      //  secondtextfield.setAttribute("name","secondtextfieldname");
     //   secondtextfield.setAttribute("class","textbox");
        
        var secondsubmitfield=document.createElement("button");
        secondsubmitfield.setAttribute("type","button");
        secondsubmitfield.setAttribute("class","closebutton");
        var secondtxt1=document.createTextNode("Close");
        secondsubmitfield.appendChild(secondtxt1);
        
        var editfield=document.createElement("button");
        editfield.setAttribute("type","button");
        editfield.setAttribute("class","editbutton");
        var secondtxt2=document.createTextNode("Edit");
        
        var removefield=document.createElement("button");
        removefield.setAttribute("type","button");
        removefield.setAttribute("class","removebutton");
        var removetxt3=document.createTextNode("Remove");
        
        var linebr=document.createElement("br");  
        editfield.appendChild(secondtxt2);
        removefield.appendChild(removetxt3);
    
         secondtaskform.appendChild(secondformheader);
         secondtaskform.appendChild(linebr);
        secondtaskform.appendChild(linebr);
        secondtaskform.appendChild(secondtextfield);
        secondtaskform.appendChild(linebr);
        secondtaskform.appendChild(linebr);
        secondtaskform.appendChild(secondsubmitfield);
        secondtaskform.appendChild(editfield);
        secondtaskform.appendChild(removefield);
        secondformdiv.appendChild(secondtaskform);
        document.body.appendChild(secondformdiv);    

//find the date today
    var today = new Date().getDate();
    var alldates = document.getElementsByClassName("cellformat");
    for (var i=0; i < alldates.length;i++){
        if (alldates[i].innerHTML == today){
          var selecteddate = alldates[i];
          selecteddate.setAttribute("class","todaysdate");
      }
    }
  
  
  var taskEntries={
    1:"",
    2:"",
    3:"",
    4:"",
    5:"",
    6:"",
    7:"",
    8:"",
    9:"",
    10:"" };
 //   for (var x=0;x<31;x++){
  //    taskEntries[x] ="";
    
//}


var picklist1=document.getElementsByClassName("overallpage");
var target1=picklist1[0];
console.log("The target is",target1);
target1.addEventListener("click", 
  function(event) {
    dateselected=event.target.textContent;
    console.log([dateselected]);
    //check if date has no entry in object choose form1 else form 2
    if (taskEntries[dateselected] === ""){
      var changeformdiv = document.getElementById("entireDiv").className="form1 visible";
      var newtext=document.createTextNode(dateselected+" November 2015");
      taskform.replaceChild(newtext, formheader);

      var changedDate=document.getElementById(dateselected);
      changedDate.setAttribute("style","background-color: aqua;");
      }
    else {
      var changeformdiv = document.getElementById("entireDiv").className="form2 visible";
      var newtext=document.createTextNode(dateselected+" November 2015");
      secondtaskform.replaceChild(newtext, secondformheader);
    } 
  });      


var picklist4=document.getElementById("submitbutton");
picklist4.addEventListener("click", 
  function(event){
    event.preventDefault(); 
//write the results
    
    var textEntered=document.getElementById("taskWords").value;  //works
    console.log("Text Entered is now...",textEntered);
     taskEntries.dateselected=textEntered;
//make the form invisible
     var changeformdiv = document.getElementById("entireDiv").className="form1 hidden";

     var changedDate=document.getElementById(dateselected);
      changedDate.setAttribute("style","background-color: aqua;");
    
  });    
 var picklist5=document.getElementById("cancelbutton");
picklist5.addEventListener("click", 
  function(event){
    event.preventDefault(); 
    var textEntered=document.forms["formpage"].textfieldname.value;
    //cancel form - turn to hidden, and empty textbox
    textEntered="";  //does not work
    var changeformdiv = document.getElementById("formpage").className="form1 hidden";
    var changedDate=document.getElementById(dateselected);
      changedDate.setAttribute("style","background-color: aqua;");
  });    

 
}, 0);

  </script>
</head>
<body>

</div>
</body>
</html>